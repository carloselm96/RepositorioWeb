@model IEnumerable<Proyecto_Web.Models.Participante>
@{
    ViewData["Title"] = "Participantes";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Participantes</h2>
<p>
    <a asp-action="Nuevo">Create New</a>
</p>

<h1>Tabla de Participantes</h1>
<p>
    Encontrar por nombre:  <input type="text" id="searchInput" onkeyup="myFunction()" />
</p>    
<center>
    <table class="table table-striped table-hover" id="datatable">
        <thead>
            <tr>
                <th>Nombre</th>                
                <th>Fecha de Nacimiento</th>
                <th>Disciplina</th>
                <th>Equipo</th>
                <th></th>
            </tr>
        </thead>
        <tfoot>
            <tr>
                <th>Nombres</th>                
                <th>Fecha de Nacimiento</th>
                <th>Disciplina</th>
                <th>Equipo</th>
                <th></th>
            </tr>
        </tfoot>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.nombres) @Html.DisplayFor(modelItem => item.apellidop) @Html.DisplayFor(modelItem => item.apellidom)
                    </td>                    
                    <td>
                        @Html.DisplayFor(modelItem => item.fecha_nacimiento)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.disciplina.nombre)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.equipo.nombre)
                    </td>
                    <td>
                        @Html.ActionLink("Edit", "Edit", new { /* id=item.PrimaryKey */ }) |
                        @Html.ActionLink("Details", "Details", new { /* id=item.PrimaryKey */ }) |
                        @Html.ActionLink("Delete", "Delete", new { /* id=item.PrimaryKey */ })
                    </td>
                </tr>
            }
        </tbody>
    </table>
</center>

@using (Html.BeginForm("Index", "Administracion"))
{
    <br />
        <div class="col-lg-10 ">
            <button class="btn btn-default" type="submit">Regresar</button>
        </div>
}        

<script src="~/lib/jquery/dist/jquery.js"></script>
<script>
    function myFunction() {
        // Declare variables
        var input, filter, table, tr, td, i;
        input = document.getElementById("myInput");
        filter = input.value.toUpperCase();
        table = document.getElementById("data_table1");
        tr = table.getElementsByTagName("tr");

        // Loop through all table rows, and hide those who don't match the search query
        for (i = 0; i < tr.length; i++) {
            td = tr[i].getElementsByTagName("td")[0];            
            if (td) {
                if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
                    tr[i].style.display = "";
                } else {
                    tr[i].style.display = "none";
                }
            }
        }
    }
</script>
